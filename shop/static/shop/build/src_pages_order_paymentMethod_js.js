/*! For license information please see src_pages_order_paymentMethod_js.js.LICENSE.txt */
"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([["src_pages_order_paymentMethod_js"],{"./src/components/axiosApi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/message/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"../node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../frontend/src/components/base */ \"../frontend/src/components/base.js\");\n/* harmony import */ var axios_cache_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios-cache-adapter */ \"./node_modules/axios-cache-adapter/dist/cache.js\");\n/* harmony import */ var axios_cache_adapter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios_cache_adapter__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n(axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.xsrfHeaderName) = \"X-CSRFTOKEN\";\n(axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.xsrfCookieName) = \"csrftoken\";\nconst cache = (0,axios_cache_adapter__WEBPACK_IMPORTED_MODULE_2__.setupCache)({\n  maxAge: 15 * 60 * 1000,\n  exclude: {\n    query: false\n  }\n});\nconst axiosInstance = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n  timeout: 5000,\n  headers: {\n    'Authorization': \"JWT \" + (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.getCookie)('USER_ACCESS_TOKEN'),\n    'Content-Type': 'application/json',\n    'accept': 'application/json'\n  },\n  adapter: cache.adapter\n});\naxiosInstance.interceptors.response.use(response => response, error => {\n  const originalRequest = error.config;\n\n  if (String(error).includes('timeout ')) {\n    antd__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error('لطفا اتصال اینترنت خود را بررسی کنید!');\n  }\n\n  if (error.response.status === 401 && originalRequest.url === 'http://localhost:8000' + '/token/refresh/') {\n    (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)('logged from 1'); // window.location.href = '/login';\n\n    return Promise.reject(error);\n  }\n\n  if (error.response.data.code === \"token_not_valid\" && error.response.status === 401 && error.response.statusText === \"Unauthorized\") {\n    const refreshToken = (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.getCookie)('USER_REFRESH_TOKEN');\n\n    if (refreshToken) {\n      const tokenParts = JSON.parse(atob(refreshToken.split('.')[1]));\n      const now = Math.ceil(Date.now() / 1000);\n\n      if (tokenParts.exp > now) {\n        return axiosInstance.post('/api/token/refresh/', {\n          refresh: refreshToken\n        }).then(res => {\n          document.cookie = `USER_ACCESS_TOKEN=${res.data.access}; path=/;`;\n          document.cookie = `USER_REFRESH_TOKEN=${res.data.refresh}; path=/;`;\n          axiosInstance.defaults.headers['Authorization'] = \"JWT \" + res.data.access;\n          originalRequest.headers['Authorization'] = \"JWT \" + res.data.access;\n          return axiosInstance(originalRequest);\n        }).catch(err => {\n          document.cookie = `USER_ACCESS_TOKEN=; path=/;`;\n          document.cookie = `USER_REFRESH_TOKEN=; path=/;`;\n          (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)('logged from 2'); // window.location.href = '/login';\n        });\n      } else {\n        (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)('logged from 3'); // window.location.href = '/login';\n      }\n    } else {\n      (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)('logged from 4'); // window.location.href = '/login';\n    }\n  }\n\n  return Promise.reject(error);\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (axiosInstance);\n\n//# sourceURL=webpack://shop/./src/components/axiosApi.js?")},"./src/components/user/userProfileDetail.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _axiosApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../axiosApi */ \"./src/components/axiosApi.js\");\n/* harmony import */ var _frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../frontend/src/components/base */ \"../frontend/src/components/base.js\");\n\n\n\nconst UserProfileDetail = () => {\n  const refreshToken = async () => {\n    const localRefreshToken = (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.getCookie)('USER_REFRESH_TOKEN');\n    return localRefreshToken && (await _axiosApi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post('/api/token/refresh/', {\n      refresh: localRefreshToken\n    }).then(res => {\n      document.cookie = `USER_ACCESS_TOKEN=${res.data.access}; path=/;`;\n      document.cookie = `USER_REFRESH_TOKEN=${res.data.refresh}; path=/;`;\n      window.location.reload();\n    }).catch(err => {\n      (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)('refresh error');\n      (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.log)(err.response);\n    }));\n  };\n\n  const fetchUserProfile = async () => {\n    const localAccessToken = (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_1__.getCookie)('USER_ACCESS_TOKEN');\n    const now = new Date().getTime();\n\n    if (localAccessToken) {\n      const payload = {\n        access_token: localAccessToken\n      };\n      return await _axiosApi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`/shop/api/user?timestamp=${now}`, payload).then(res => {\n        if (res.data.is_active) {\n          return res.data;\n        } else {\n          return 'inactive';\n        }\n      }).catch(err => {\n        refreshToken();\n      });\n    }\n  };\n\n  return fetchUserProfile(); // const fetchUserProfileUpdate = async (at) => {\n  //     return await axiosInstance.get(`/api/login?at=${at}`)\n  //         .then (res => {\n  //             log('return profile 2')\n  //             log(res.data)\n  //             return res.data\n  //         })\n  //         .catch(err => {\n  //             log(err)\n  //             log(err.response)\n  //             log('refresh again!!!!!')\n  //         })\n  // }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserProfileDetail);\n\n//# sourceURL=webpack://shop/./src/components/user/userProfileDetail.js?")},"./src/pages/order/paymentMethod.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "../node_modules/axios/index.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.debounce */ "./node_modules/lodash.debounce/index.js");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_cookie__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-cookie */ "./node_modules/react-cookie/es6/useCookies.js");\n/* harmony import */ var _store_cartStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/cartStore */ "./src/store/cartStore.js");\n/* harmony import */ var _frontend_src_components_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../frontend/src/components/base */ "../frontend/src/components/base.js");\n/* harmony import */ var _components_axiosApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/axiosApi */ "./src/components/axiosApi.js");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd */ "./node_modules/antd/es/message/index.js");\n/* harmony import */ var _components_user_userProfileDetail__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/user/userProfileDetail */ "./src/components/user/userProfileDetail.js");\n\n\n\n\n\n\n\n\n\n\n\nconst PaymentMethod = () => {\n  const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [totalPrice, setTotalPrice] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [totalDiscount, setTotalDiscount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [couponDiscount, setCouponDiscount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [shippingCost, setShippingCost] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(15_000);\n  const [allProductsData, setAllProductsData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [cookies, setCookie, removeCookie] = (0,react_cookie__WEBPACK_IMPORTED_MODULE_7__["default"])([\'USER_ACCESS_TOKEN\', \'USER_REFRESH_TOKEN\']);\n  const allProductsDataRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n  const couponCodeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [cartItems, cartActions] = (0,_store_cartStore__WEBPACK_IMPORTED_MODULE_3__["default"])();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    fetchData();\n    ifNotLoggedInRedirectToLoginPage();\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setLoaded(false);\n    calculatePrice();\n    setLoaded(true);\n  }, [cartItems, allProductsData]);\n\n  const ifNotLoggedInRedirectToLoginPage = async () => {\n    const userDetail = await (0,_components_user_userProfileDetail__WEBPACK_IMPORTED_MODULE_6__["default"])();\n    setUser(userDetail);\n\n    if (!userDetail) {\n      window.location.href = \'/shop/login/\';\n    }\n  };\n\n  const fetchData = async () => {\n    await axios__WEBPACK_IMPORTED_MODULE_1___default().get(\'/api/productView/\').then(res => {\n      setAllProductsData(res.data);\n      allProductsDataRef.current = res.data;\n    }).catch(err => {\n      (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_4__.log)(err.response);\n    });\n  };\n\n  const completeOrder = async () => {\n    const payload = {\n      userAccessToken: cookies.USER_ACCESS_TOKEN,\n      purchased_items: cartItems.items,\n      price: totalPrice,\n      discount: totalDiscount\n    };\n    await _components_axiosApi__WEBPACK_IMPORTED_MODULE_5__["default"].post(\'/shop/api/order\', payload).then(res => {\n      if (res.data = "order completed successfully") {\n        antd__WEBPACK_IMPORTED_MODULE_8__["default"].success(\'خرید شما با موفقیت ثبت شد\'); // reset the cart\n        // redirect to order info in history\n        // send us a message for noticing the order\n      } else {\n        (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_4__.log)(\'its res\');\n        (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_4__.log)(res);\n        antd__WEBPACK_IMPORTED_MODULE_8__["default"].error(\'خطایی رخ داده است. لطفا بعدا تلاش کنید.\');\n      }\n    }).catch(err => {\n      antd__WEBPACK_IMPORTED_MODULE_8__["default"].error(\'خطایی رخ داده است. لطفا بعدا تلاش کنید.\');\n      (0,_frontend_src_components_base__WEBPACK_IMPORTED_MODULE_4__.log)(err.response);\n    });\n  };\n\n  const calculatePrice = () => {\n    let totalPrice = 0;\n    let totalDiscount = 0;\n    allProductsDataRef.current.length && cartItems.items.map(product => {\n      const productData = allProductsDataRef.current.find(each => each.id === product.id);\n      const itemPrice = product.count * productData.price;\n      const itemDiscount = product.count * (productData.price * productData.discount / 100);\n      totalPrice += itemPrice;\n      totalDiscount += itemDiscount;\n      return itemPrice - itemDiscount;\n    });\n    setTotalPrice(totalPrice);\n    setTotalDiscount(totalDiscount);\n  };\n\n  const checkCouponCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(async () => {\n    const couponCode = couponCodeRef.current.value;\n    const payload = {\n      code: couponCode\n    };\n    await _components_axiosApi__WEBPACK_IMPORTED_MODULE_5__["default"].post(\'/shop/api/coupon\', payload).then(res => {\n      if (res.data == \'کد تخفیف وجود ندارد\') {\n        antd__WEBPACK_IMPORTED_MODULE_8__["default"].error(\'کد تخفیف وجود ندارد\');\n      } else {\n        const discountAmount = res.data;\n        setCouponDiscount((totalPrice - totalDiscount) * discountAmount / 100);\n      }\n    });\n  }));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, loaded && user ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "mx-5 md:mx-[25rem] m-auto mb-20 space-y-10"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "relative"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", {\n    className: "text-center font-bold"\n  }, "\\u0631\\u0648\\u0634 \\u067E\\u0631\\u062F\\u0627\\u062E\\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "absolute top-0 left-0"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    to: "/shop/cart/"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {\n    class: "h-6 w-6 text-[#cfa278]",\n    width: "24",\n    height: "24",\n    viewBox: "0 0 24 24",\n    "stroke-width": "2",\n    stroke: "currentColor",\n    fill: "none",\n    "stroke-linecap": "round",\n    "stroke-linejoin": "round"\n  }, "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {\n    stroke: "none",\n    d: "M0 0h24v24H0z"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "4",\n    y1: "12",\n    x2: "14",\n    y2: "12"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "4",\n    y1: "12",\n    x2: "8",\n    y2: "16"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "4",\n    y1: "12",\n    x2: "8",\n    y2: "8"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "20",\n    y1: "4",\n    x2: "20",\n    y2: "20"\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "grid grid-cols-3 gap-6"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "px-2 py-5 shadow-light rounded-lg flex justify-center text-center items-center"\n  }, "\\u0632\\u0631\\u06CC\\u0646 \\u067E\\u0627\\u0644")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-between"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, "\\u06A9\\u062F \\u062A\\u062E\\u0641\\u06CC\\u0641"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n    type: "text",\n    ref: couponCodeRef,\n    className: "rounded-lg ltr pl-3 text-black border ml-3"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("button", {\n    onClick: checkCouponCode\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", {\n    class: "h-6 w-6 text-[#cfa278]",\n    viewBox: "0 0 24 24",\n    fill: "none",\n    stroke: "currentColor",\n    "stroke-width": "2",\n    "stroke-linecap": "round",\n    "stroke-linejoin": "round"\n  }, "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {\n    x: "3",\n    y: "3",\n    width: "18",\n    height: "18",\n    rx: "2",\n    ry: "2"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "12",\n    y1: "8",\n    x2: "12",\n    y2: "16"\n  }), "  ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {\n    x1: "8",\n    y1: "12",\n    x2: "16",\n    y2: "12"\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "space-y-5"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-between"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "text-zinc-400"\n  }, "\\u062A\\u062E\\u0641\\u06CC\\u0641 \\u06A9\\u0627\\u0644\\u0627 \\u0647\\u0627"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "font-semibold text-red-400"\n  }, totalDiscount + couponDiscount, " \\u062A\\u0648\\u0645\\u0627\\u0646")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-between"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "text-zinc-400"\n  }, "\\u0642\\u06CC\\u0645\\u062A \\u06A9\\u0627\\u0644\\u0627 \\u0647\\u0627"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "font-semibold"\n  }, totalPrice, " \\u062A\\u0648\\u0645\\u0627\\u0646")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-between"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "text-zinc-400"\n  }, "\\u0647\\u0632\\u06CC\\u0646\\u0647 \\u0627\\u0631\\u0633\\u0627\\u0644"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "font-semibold"\n  }, shippingCost, " \\u062A\\u0648\\u0645\\u0627\\u0646")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-between"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "text-zinc-400"\n  }, "\\u0645\\u0628\\u0644\\u063A \\u0642\\u0627\\u0628\\u0644 \\u067E\\u0631\\u062F\\u0627\\u062E\\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "font-semibold"\n  }, totalPrice - (totalDiscount + couponDiscount) + shippingCost, " \\u062A\\u0648\\u0645\\u0627\\u0646"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex justify-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("button", {\n    onClick: completeOrder,\n    className: "bg-[#cfa278] w-full py-2 rounded-xl font-semibold"\n  }, "\\u067E\\u0631\\u062F\\u0627\\u062E\\u062A"))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, "LOADING"));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentMethod);\n\n//# sourceURL=webpack://shop/./src/pages/order/paymentMethod.js?')},"./src/store/cartStore.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_sweet_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-sweet-state */ \"./node_modules/react-sweet-state/lib/esm/store/create.js\");\n/* harmony import */ var react_sweet_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-sweet-state */ \"./node_modules/react-sweet-state/lib/esm/components/hook.js\");\n/* harmony import */ var _frontend_src_components_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../frontend/src/components/base */ \"../frontend/src/components/base.js\");\n\n\nconst CartStore = (0,react_sweet_state__WEBPACK_IMPORTED_MODULE_1__.createStore)({\n  initialState: {\n    items: JSON.parse(localStorage.getItem('cartStore'))?.items || []\n  },\n  actions: {\n    addOrIncreaseItem: itemData => ({\n      setState,\n      getState\n    }) => {\n      const currentItems = getState().items;\n      const exist = currentItems.find(item => itemData.id === item.id);\n\n      if (exist) {\n        currentItems.map(each => {\n          if (itemData.id == each.id) {\n            return { ...each,\n              count: each.count++\n            };\n          }\n        });\n        localStorage.setItem('cartStore', JSON.stringify({\n          items: [...currentItems]\n        }));\n        setState({\n          items: [...currentItems]\n        });\n      } else {\n        localStorage.setItem('cartStore', JSON.stringify({\n          items: [...currentItems, {\n            id: itemData.id,\n            count: 1\n          }]\n        }));\n        setState({\n          items: [...currentItems, {\n            id: itemData.id,\n            count: 1\n          }]\n        });\n      }\n    },\n    removeOrDecreaseItem: itemData => ({\n      setState,\n      getState\n    }) => {\n      let currentItems = getState().items;\n      currentItems.map((each, index) => {\n        if (itemData.id == each.id) {\n          const nextCount = each.count--;\n\n          if (nextCount == 1) {\n            currentItems = [];\n          } else {\n            return { ...each,\n              count: nextCount\n            };\n          }\n        }\n      });\n      localStorage.setItem('cartStore', JSON.stringify({\n        items: [...currentItems]\n      }));\n      setState({\n        items: [...currentItems]\n      });\n    }\n  },\n  name: 'items'\n});\nconst useCart = (0,react_sweet_state__WEBPACK_IMPORTED_MODULE_2__.createHook)(CartStore);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useCart);\n\n//# sourceURL=webpack://shop/./src/store/cartStore.js?")}}]);