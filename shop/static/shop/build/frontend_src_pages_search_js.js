/*! For license information please see frontend_src_pages_search_js.js.LICENSE.txt */
"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([["frontend_src_pages_search_js"],{"../frontend/src/pages/search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../frontend/node_modules/react/index.js");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "../frontend/node_modules/react-router-dom/esm/react-router-dom.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "../frontend/node_modules/axios/index.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd */ "../frontend/node_modules/antd/es/empty/index.js");\n/* harmony import */ var _components_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/base */ "../frontend/src/components/base.js");\n\n\n\n\n\n\nconst Search = () => {\n  const [searchResult_Books, setSearchResult_Books] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [searchResult_Clips, setSearchResult_Clips] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    searchQuery();\n  }, []);\n  const query = (0,_components_base__WEBPACK_IMPORTED_MODULE_2__.takeParameterFromUrl)(\'q\');\n  const options = {\n    year: \'numeric\',\n    month: \'long\',\n    day: \'numeric\'\n  };\n\n  const searchQuery = async () => {\n    await axios__WEBPACK_IMPORTED_MODULE_1___default().get(`/api/bookView/?slug__icontains=${query}&limits=6`).then(res => {\n      setSearchResult_Books(res.data);\n    });\n    await axios__WEBPACK_IMPORTED_MODULE_1___default().get(`/api/clip/?slug__icontains=${query}&limits=6`).then(res => {\n      setSearchResult_Clips(res.data);\n    });\n  };\n\n  const returnSearchResult_Books = () => {\n    return searchResult_Books?.map(book => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("article", {\n        className: "hoverGold w-[16rem] max-w-max mr-5 my-3"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Link, {\n        to: `/المؤلفات/${(0,_components_base__WEBPACK_IMPORTED_MODULE_2__.replaceFunction)(book.title, \' \', \'-\')}`\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {\n        className: "rounded",\n        src: book?.thumbnail,\n        alt: book?.title\n      })));\n    });\n  };\n\n  const returnSearchResult_Clips = () => {\n    return searchResult_Clips?.map(clip => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "flex space-x-5 space-x-reverse"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        dangerouslySetInnerHTML: {\n          __html: clip.source\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2", null, clip.title, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("br", null), new Date(clip.date_created).toLocaleDateString(\'ar-EG\', options)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4", {\n        dangerouslySetInnerHTML: {\n          __html: clip.description\n        }\n      })));\n    });\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "wrapper pb-20"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", {\n    className: "title title-center"\n  }, "\\u0628\\u062D\\u062B \\u0639\\u0646 \\" ", query, " \\""), !searchResult_Books?.length && !searchResult_Clips?.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__["default"], {\n    image: antd__WEBPACK_IMPORTED_MODULE_4__["default"].PRESENTED_IMAGE_SIMPLE\n  }), searchResult_Books?.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", null, "\\u0627\\u0644\\u0645\\u0624\\u0644\\u0641\\u0627\\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "flex flex-wrap gap-x-4 wrapper"\n  }, returnSearchResult_Books())) : \'\', searchResult_Clips?.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "mt-20"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", null, "\\u0627\\u0644\\u0645\\u062D\\u0627\\u0636\\u0631\\u0627\\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n    className: "wrapper space-y-5"\n  }, returnSearchResult_Clips())) : \'\'));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Search);\n\n//# sourceURL=webpack://shop/../frontend/src/pages/search.js?')}}]);